<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Font Generator ‚Äî PirateRuler</title>
<meta name="description" content="Font Generator by PirateRuler ‚Äî client-side transforms, copy & download. No API." />
<meta name="theme-color" content="#f7fbff" />
<style>
  :root{
    --bg:#f3f7fb; --card:#fff; --muted:#6b7480; --text:#0b2130;
    --accent-start:#6b7dff; --accent-end:#0bb3ff; --radius:12px;
    --shadow: 0 12px 30px rgba(3,12,30,0.12);
  }
  html.dark{--bg:#071225;--card:#071827;--muted:#98a7bf;--text:#e9f1ff;--accent-start:#5ab3ff;--accent-end:#6b7dff}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,var(--bg),#e9f6ff);color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:980px;margin:18px auto;padding:14px}
  header{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;background:linear-gradient(90deg, rgba(107,125,255,0.06), rgba(11,179,255,0.02));box-shadow:var(--shadow)}
  .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent-start),var(--accent-end));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900}
  .title{font-weight:900}
  .by{font-size:13px;color:var(--muted)}
  .header-actions{margin-left:auto;display:flex;gap:8px;align-items:center}
  .btn{padding:8px 12px;border-radius:999px;border:none;background:linear-gradient(90deg,var(--accent-start),var(--accent-end));color:#fff;font-weight:800;cursor:pointer}
  .btn.ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);color:var(--text)}
  .btn.glow{box-shadow:0 6px 20px rgba(107,125,255,0.18);}

  .hero{margin-top:14px;padding:18px;border-radius:14px;background:var(--card);box-shadow:var(--shadow)}
  .controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:10px}
  input[type="text"]{padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.06);width:100%;min-width:260px}
  .small-ghost{padding:8px 12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:transparent;cursor:pointer}

  .row{display:flex;gap:10px;align-items:center}
  .main{display:grid;grid-template-columns:1fr 320px;gap:16px;margin-top:14px}
  @media(max-width:980px){ .main{grid-template-columns:1fr} }
  .card{background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow)}
  .results{margin-top:10px}
  .res-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;border:1px solid rgba(0,0,0,0.04);margin-bottom:8px;background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.96))}
  .res-left{flex:1;overflow:hidden}
  .res-left .label{font-weight:800}
  .res-left .sub{color:var(--muted);font-size:13px;margin-top:6px}
  .res-actions{display:flex;gap:8px;margin-left:12px}
  .pill{padding:8px 12px;border-radius:10px;background:#fff;border:1px solid rgba(0,0,0,0.06);cursor:pointer}
  .pill.secondary{background:transparent}
  .meta{display:flex;gap:8px;align-items:center;margin-bottom:8px;color:var(--muted)}

  /* sidebar */
  .sidebar{position:sticky;top:18px}
  .cats{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
  .cat-btn{padding:8px 10px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);background:transparent;cursor:pointer}
  .cat-btn.active{background:linear-gradient(90deg,var(--accent-start),var(--accent-end));color:#fff;box-shadow:0 8px 24px rgba(11,107,255,0.12)}

  footer{margin-top:18px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.96));text-align:center;box-shadow:var(--shadow)}
  .muted{color:var(--muted)}
  .load-more{display:block;margin:10px auto;padding:10px 14px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:transparent;cursor:pointer}

  .search-row{display:flex;gap:8px;align-items:center}
  .top-meta{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
  .info{font-size:13px;color:var(--muted)}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div style="display:flex;gap:12px;align-items:center">
        <div class="logo">PR</div>
        <div>
          <div class="title">Font Generator</div>
          <div class="by">by PirateRuler.com ‚Äî client-side transforms</div>
        </div>
      </div>

      <div class="header-actions">
        <button id="themeBtn" class="btn ghost">Light ‚ñæ</button>
        <button id="sidebarToggle" class="btn ghost">Menu</button>
      </div>
    </header>

    <section class="hero card">
      <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap">
        <div style="flex:1;min-width:220px">
          <h2 style="margin:0">Font Generator</h2>
          <p class="muted" style="margin:6px 0 0 0">Type text below and get stylized versions you can copy ‚Äî 100% client-side, no API.</p>
        </div>
        <div style="min-width:220px;text-align:right">
          <div class="small-ghost info" id="countInfo">‚Äî transforms loaded</div>
        </div>
      </div>

      <div class="controls" style="margin-top:12px">
        <div style="flex:1">
          <input id="userText" type="text" placeholder="Type something to start..." value="PirateRuler" />
        </div>
        <button id="generate" class="btn glow">Generate</button>
        <button id="copyAll" class="btn ghost">Copy All</button>
        <button id="downloadTxt" class="btn ghost">Download .txt</button>
      </div>

      <div class="top-meta" style="margin-top:10px">
        <div class="meta"><strong id="resultCount">0</strong> results ‚Äî client-side transforms</div>
        <div class="info">Tip: click <em>Use</em> to place transform in input, <em>Copy</em> to copy.</div>
      </div>
    </section>

    <div class="main">
      <main>
        <div id="resultsArea" class="card">
          <div id="results" class="results"></div>
        </div>
      </main>

      <aside class="sidebar">
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:800">Categories</div>
            <div><button id="showAllCats" class="pill secondary">All</button></div>
          </div>

          <div class="cats" id="catList" style="margin-top:10px"></div>

          <div style="margin-top:12px">
            <div style="font-weight:800;margin-bottom:6px">How to use</div>
            <ol style="margin:0;padding-left:18px;color:var(--muted)">
              <li>Type your text and click Generate.</li>
              <li>Tap Copy to copy, Use to paste back into input.</li>
              <li>Download .txt or Copy All to get every transform.</li>
            </ol>
          </div>

          <div style="margin-top:12px;font-size:13px;color:var(--muted)">
            <div style="font-weight:800;margin-bottom:6px">About</div>
            PirateRuler Font Generator ‚Äî offline, client-side transforms. Add more fonts by editing the script.
          </div>
        </div>
      </aside>
    </div>

    <footer>
      <div><a class="muted" href="https://pirateruler.com" target="_blank" rel="noopener noreferrer">Visit PirateRuler.com</a></div>
      <div style="height:6px"></div>
      <small class="muted">¬© <span id="year"></span> PirateRuler</small>
    </footer>
  </div>

<script>
/* Font Generator ‚Äî client-side transforms
   - Categories, Load more per category
   - Copy/Use/Download/Copy All
   - No API
*/

/* ---------- helper functions ---------- */
const el = id => document.getElementById(id);
function copyText(text){
  if(!navigator.clipboard) {
    // fallback
    const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select();
    try { document.execCommand('copy'); alert('Copied'); } catch(e){ alert('Copy failed'); }
    ta.remove(); return;
  }
  navigator.clipboard.writeText(text).then(()=> showToast('Copied to clipboard')).catch(()=> alert('Copy failed'));
}
function showToast(msg){ /* lightweight */ console.log(msg); }

/* ---------- transformation data ---------- */
/* Each transform: { name, category, fn (s->t), sample } */
const transforms = [];

/* helper to map ascii letters using an offset base (for many unicode alphabets) */
function mapAlpha(str, lowerBase, upperBase){
  // lowerBase/upperBase are character code points for 'a' and 'A'
  return str.split('').map(ch=>{
    const code = ch.charCodeAt(0);
    if(code >= 97 && code <= 122){ // a-z
      const idx = code - 97; return String.fromCodePoint(lowerBase + idx);
    }
    if(code >= 65 && code <= 90){
      const idx = code - 65; return String.fromCodePoint(upperBase + idx);
    }
    return ch;
  }).join('');
}

/* create mapping-based transform (mapOf char->char) */
function mapWithMap(str, mapObj){
  return str.split('').map(ch=> mapObj[ch] || ch ).join('');
}

/* build many transforms (common unicode alphabets) */

/* Plain (identity) */
transforms.push({name:'Plain', category:'Basic', fn: s=> s, sample:'Plain text'});

/* Bold (Mathematical Bold) */
transforms.push({name:'Bold', category:'Basic', fn: s=> mapAlpha(s, 0x1d41a, 0x1d400), sample:'Bold'});

/* Italic (Mathematical Italic) */
transforms.push({name:'Italic', category:'Basic', fn: s=> mapAlpha(s, 0x1d44e, 0x1d434), sample:'Italic'});

/* Bold Italic */
transforms.push({name:'Bold Italic', category:'Basic', fn: s=> mapAlpha(s, 0x1d482, 0x1d468), sample:'BoldItalic'});

/* Monospace */
transforms.push({name:'Monospace', category:'Basic', fn: s=> mapAlpha(s, 0x1d68a, 0x1d670), sample:'Monospace'});

/* Double-struck (aka Blackboard Bold) */
transforms.push({name:'Double-struck', category:'Math', fn: s=> mapAlpha(s, 0x1d552, 0x1d538), sample:'Double'});

/* Fullwidth (wide) */
transforms.push({name:'Fullwidth', category:'Fancy', fn: s=> s.split('').map(ch=>{
  const code = ch.charCodeAt(0);
  if(code >= 33 && code <= 126) return String.fromCodePoint(0xFF01 + (code - 33));
  return ch;
}).join(''), sample:'Fullwidth'});

/* Circled (lowercase & uppercase as available) */
function circled(s){
  // circled alphabet starts at 0x24B6 for A, and 0x24D0 for a
  return s.split('').map(ch=>{
    const code=ch.charCodeAt(0);
    if(code>=65 && code<=90) return String.fromCodePoint(0x24B6 + (code-65));
    if(code>=97 && code<=122) return String.fromCodePoint(0x24D0 + (code-97));
    return ch;
  }).join('');
}
transforms.push({name:'Circled', category:'Fancy', fn: circled, sample:'Circled'});

/* Parenthesis wrappers: letter -> (l)(e)(t) */
transforms.push({name:'Parenthesis', category:'Wrappers', fn: s=> s.split('').map(c=>'('+c+')').join(''), sample:'Wrap'});

/* Square wrappers */
transforms.push({name:'Square boxes', category:'Wrappers', fn: s=> s.split('').map(c=>'['+c+']').join(''), sample:'Box'});

/* Small Caps (approx ‚Äî map lowercase to smallcaps unicode where possible) */
const smallCapsMap = {
  a:'·¥Ä', b:' ô', c:'·¥Ñ', d:'·¥Ö', e:'·¥á', f:'Íú∞', g:'…¢', h:' ú', i:'…™', j:'·¥ä', k:'·¥ã', l:' ü', m:'·¥ç',
  n:'…¥', o:'·¥è', p:'·¥ò', q:'«´', r:' Ä', s:'s', t:'·¥õ', u:'·¥ú', v:'·¥†', w:'·¥°', x:'x', y:' è', z:'·¥¢'
};
transforms.push({name:'Small Caps', category:'Fancy', fn: s=> mapWithMap(s, Object.assign({}, smallCapsMap, Object.fromEntries(Object.entries(smallCapsMap).map(([k,v])=>[k.toUpperCase(),v])))), sample:'smallcaps'});

/* Bold Fraktur (use some unicode approximations) */
transforms.push({name:'Fraktur', category:'Fancy', fn: s=> mapAlpha(s, 0x1d51e, 0x1d504), sample:'Fraktur'});

/* Upside-down (rotated text using map) */
const upsideDownMap = {
  a:'…ê', b:'q', c:'…î', d:'p', e:'«ù', f:'…ü', g:'∆É', h:'…•', i:'·¥â', j:'…æ', k:' û', l:' É', m:'…Ø',
  n:'u', o:'o', p:'d', q:'b', r:'…π', s:'s', t:' á', u:'n', v:' å', w:' ç', x:'x', y:' é', z:'z',
  A:'‚àÄ', B:'êêí', C:'∆Ü', D:'‚óñ', E:'∆é', F:'‚Ñ≤', G:'‚ÖÅ', H:'H', I:'I', J:'≈ø', K:'‚ãä', L:'À•', M:'W',
  N:'N', O:'O', P:'‘Ä', Q:'Q', R:'·¥ö', S:'S', T:'‚ä•', U:'‚à©', V:'Œõ', W:'M', X:'X', Y:'‚ÖÑ', Z:'Z',
  '.':'Àô', '?':'¬ø', '!':'¬°', '"':',,', '\'':',', '(' : ')', ')':'(', '[':']', ']':'[', '{':'}', '}':'{', '<':'>','>':'<'
};
transforms.push({name:'Upside-down', category:'Fun', fn: s=> s.split('').reverse().map(ch=>upsideDownMap[ch]||upsideDownMap[ch.toLowerCase()]||ch).join(''), sample:'upside'});

/* Stacked accents (combining diacritics) */
const combining = ['\u0300','\u0301','\u0302','\u0303','\u0308','\u0304','\u0306','\u0307','\u0308','\u0327'];
transforms.push({name:'Combining Accents', category:'Accents', fn: s=> s.split('').map(ch=> ch + combining.join('')).join(''), sample:'Accents'});

/* Spaced (space between letters) */
transforms.push({name:'Spaced', category:'Style', fn: s=> s.split('').join(' '), sample:'S p a c e d'});

/* Dotted (add dot above each char) */
transforms.push({name:'Dotted', category:'Accents', fn: s=> s.split('').map(c=> c + '\u0307').join(''), sample:'Dotted'});

/* Bold Serif (use math bold) - fallback to Bold */
transforms.push({name:'Bold Serif', category:'Fancy', fn: s=> mapAlpha(s, 0x1d56c, 0x1d554), sample:'BoldSerif'});

/* Serif Italic */
transforms.push({name:'Italic Serif', category:'Fancy', fn: s=> mapAlpha(s, 0x1d49e, 0x1d488), sample:'ItalicS'});

/* Double-width spaced */
transforms.push({name:'Full Spaced', category:'Style', fn: s=> s.split('').join('\u200A'), sample:'Full Spaced'});

/* Mirrored (reverse characters visually) - simple reverse */
transforms.push({name:'Reversed', category:'Fun', fn: s=> s.split('').reverse().join(''), sample:'Reversed'});

/* Boxes using special box characters */
transforms.push({name:'Black Square Wrap', category:'Wrappers', fn: s=> s.split('').map(c=>'‚ñ£'+c+'‚ñ£').join(''), sample:'‚ñ£A‚ñ£'});

/* Bold monospace like */ 
transforms.push({name:'Bold Monospace', category:'Basic', fn: s=> mapAlpha(s, 0x1d7f6, 0x1d7ec), sample:'MonoBold'});

/* Subscript & superscript approximations */
const subMap = {'0':'‚ÇÄ','1':'‚ÇÅ','2':'‚ÇÇ','3':'‚ÇÉ','4':'‚ÇÑ','5':'‚ÇÖ','6':'‚ÇÜ','7':'‚Çá','8':'‚Çà','9':'‚Çâ','a':'‚Çê','e':'‚Çë','o':'‚Çí','x':'‚Çì','i':'·µ¢'};
const superMap = {'0':'‚Å∞','1':'¬π','2':'¬≤','3':'¬≥','4':'‚Å¥','5':'‚Åµ','6':'‚Å∂','7':'‚Å∑','8':'‚Å∏','9':'‚Åπ','a':'·µÉ','b':'·µá','c':'·∂ú','d':'·µà','e':'·µâ','f':'·∂†','g':'·µç','h':' ∞','i':'·∂¶','j':' ≤','k':'·µè','l':'À°','m':'·µê','n':'‚Åø','o':'·µí','p':'·µñ','r':' ≥','s':'À¢','t':'·µó','u':'·µò','v':'·µõ','w':' ∑','y':' ∏'};
transforms.push({name:'Superscript', category:'Math', fn: s=> s.split('').map(c=> superMap[c]||superMap[c.toLowerCase()]||c).join(''), sample:'Sup' });
transforms.push({name:'Subscript', category:'Math', fn: s=> s.split('').map(c=> subMap[c]||subMap[c.toLowerCase()]||c).join(''), sample:'Sub' });

/* Braille-like dots (approx) */
function braille(s){
  return s.split('').map(c=>{
    if(/\s/.test(c)) return '‚†Ä';
    const code = c.charCodeAt(0) % 256;
    return String.fromCodePoint(0x2800 + (code % 256));
  }).join('');
}
transforms.push({name:'Braille-ish', category:'Fun', fn: braille, sample:'Braille'});

/* Small subset of decorative transforms using mapping tables (you can add many more) */
const flippedMap = {'a':'…í','b':'d','c':'…î','d':'b','e':'«ù','f':'…ü','g':'…ì','h':'…•','i':'ƒ±','j':'…æ','k':' û','l':'l','m':'…Ø','n':'u','o':'o','p':'q','q':'p','r':'…π','s':'s','t':' á','u':'n','v':' å','w':' ç','x':'x','y':' é','z':'z'};
transforms.push({name:'Weird Flip', category:'Fun', fn: s=> s.split('').map(c=> flippedMap[c.toLowerCase()]||c).join(''), sample:'Flip'});

/* Fancy: small boxed letters composed of unicode */
transforms.push({name:'Circled Bold', category:'Fancy', fn: s=> s.split('').map(c=> '‚ìµ').join(''), sample:'‚ìê'});

/* Add more transforms here to reach 150+ ‚Äî expand transforms array */

/* ---------- end transforms ---------- */

/* build categories list dynamically */
const categories = [...new Set(transforms.map(t=>t.category))];

/* UI wiring */
const userText = el('userText'), generateBtn = el('generate'), resultsDiv = el('results'), countInfo = el('countInfo');
const resultCount = el('resultCount'), copyAllBtn = el('copyAll'), downloadBtn = el('downloadTxt'), catList = el('catList'), showAllCats = el('showAllCats');
const themeBtn = el('themeBtn'), sidebarToggle = el('sidebarToggle');

let activeCategory = null; // null => show all
let perCategoryShow = {}; // how many to show; load more increases this

/* init perCategoryShow */
categories.forEach(c => perCategoryShow[c] = 8);

/* render categories buttons */
function renderCategories(){
  catList.innerHTML = '';
  categories.forEach(cat => {
    const b = document.createElement('button'); b.className='cat-btn'; b.textContent = cat + ' (' + transforms.filter(t=>t.category===cat).length + ')';
    b.addEventListener('click', ()=>{ if(activeCategory===cat){ activeCategory=null; b.classList.remove('active'); } else { activeCategory = cat; document.querySelectorAll('.cat-btn').forEach(x=>x.classList.remove('active')); b.classList.add('active'); } renderResults(); });
    catList.appendChild(b);
  });
}
renderCategories();

/* render results for current input and category */
function renderResults(){
  resultsDiv.innerHTML = '';
  const text = (userText.value || '').toString();
  let list = transforms;
  if(activeCategory) list = list.filter(t=>t.category===activeCategory);
  // show first N per category when activeCategory==null; else show perCategoryShow[activeCategory]
  if(!activeCategory){
    // group by category
    const groups = {};
    list.forEach(t => { groups[t.category] = groups[t.category]||[]; groups[t.category].push(t); });
    Object.keys(groups).forEach(cat=>{
      const block = document.createElement('div'); block.style.marginBottom = '12px';
      const hdr = document.createElement('div'); hdr.style.display='flex'; hdr.style.justifyContent='space-between'; hdr.style.alignItems='center';
      const h = document.createElement('div'); h.innerHTML = `<strong>${cat}</strong> <span class="muted">(${groups[cat].length})</span>`;
      const loadBtn = document.createElement('button'); loadBtn.className='load-more'; loadBtn.textContent = 'Load more'; loadBtn.style.display='inline-block'; loadBtn.style.padding='6px 10px';
      // how many to show for this category
      let show = perCategoryShow[cat] || 8;
      const items = groups[cat].slice(0, show);
      // add header and items
      hdr.appendChild(h); hdr.appendChild(loadBtn);
      block.appendChild(hdr);
      const inner = document.createElement('div');
      items.forEach(t=> inner.appendChild(makeResultNode(t, text)));
      block.appendChild(inner);
      // load more handler
      loadBtn.addEventListener('click', ()=>{
        perCategoryShow[cat] = Math.min((perCategoryShow[cat]||8) + 16, groups[cat].length);
        renderResults();
      });
      resultsDiv.appendChild(block);
    });
    // total count
    const total = transforms.length;
    resultCount.textContent = total;
    countInfo.textContent = `${total} transforms available ‚Ä¢ client-side`;
  } else {
    // show only active category
    const listCat = list.slice(0, perCategoryShow[activeCategory]||999);
    listCat.forEach(t => resultsDiv.appendChild(makeResultNode(t, text)));
    resultCount.textContent = listCat.length + ' in ' + activeCategory;
    countInfo.textContent = `${transforms.length} transforms overall ‚Ä¢ showing ${listCat.length}`;
    if(perCategoryShow[activeCategory] < transforms.filter(t=>t.category===activeCategory).length){
      const lm = document.createElement('button'); lm.className='load-more'; lm.textContent = 'Load more'; lm.addEventListener('click', ()=>{ perCategoryShow[activeCategory] += 20; renderResults(); });
      resultsDiv.appendChild(lm);
    }
  }
}

/* create a result DOM node given transform and input */
function makeResultNode(t, text){
  const node = document.createElement('div'); node.className = 'res-item';
  const left = document.createElement('div'); left.className='res-left';
  const lab = document.createElement('div'); lab.className='label'; lab.textContent = t.name;
  const out = document.createElement('div'); out.style.marginTop='6px'; out.style.fontSize='18px'; out.style.overflow='hidden';
  let transformed = '';
  try { transformed = t.fn(text || t.sample || 'Sample'); } catch(e){ transformed = '‚Äî'; }
  out.textContent = transformed;
  const sub = document.createElement('div'); sub.className='sub'; sub.textContent = t.category;
  left.appendChild(lab); left.appendChild(out); left.appendChild(sub);

  const actions = document.createElement('div'); actions.className='res-actions';
  const useBtn = document.createElement('button'); useBtn.className='pill'; useBtn.textContent = 'Use';
  const copyBtn = document.createElement('button'); copyBtn.className='pill'; copyBtn.textContent = 'Copy';
  useBtn.addEventListener('click', ()=> { userText.value = transformed; userText.focus(); renderResults(); showToast('Used transform'); });
  copyBtn.addEventListener('click', ()=> { copyText(transformed); });
  actions.appendChild(useBtn); actions.appendChild(copyBtn);

  node.appendChild(left); node.appendChild(actions);
  return node;
}

/* generate handler */
generateBtn.addEventListener('click', ()=> renderResults());
userText.addEventListener('keydown', (e)=> { if(e.key === 'Enter'){ e.preventDefault(); renderResults(); } });

/* Copy all */
copyAllBtn.addEventListener('click', ()=> {
  const t = transforms.map(t => t.name + ': ' + (t.fn(userText.value || t.sample || '') )).join('\n\n');
  copyText(t);
});

/* Download as .txt */
downloadBtn.addEventListener('click', ()=> {
  const txt = transforms.map(t => (t.fn(userText.value || t.sample || ''))).join('\n');
  const blob = new Blob([txt], {type:'text/plain'}); const a = document.createElement('a');
  a.href = URL.createObjectURL(blob); a.download = 'pirateruler-fonts.txt'; a.click(); URL.revokeObjectURL(a.href);
});

/* quick: populate initial */
renderResults();

/* show counts in header */
el('countInfo').textContent = transforms.length + ' transforms loaded';

/* show all categories button */
showAllCats.addEventListener('click', ()=> { activeCategory = null; document.querySelectorAll('.cat-btn').forEach(x=>x.classList.remove('active')); renderResults(); });

/* sidebar toggle simple (for mobile) */
sidebarToggle.addEventListener('click', ()=> {
  const s = document.querySelector('.sidebar');
  if(s.style.display === 'none' || getComputedStyle(s).display === 'none'){ s.style.display = 'block'; } else { s.style.display = 'none'; }
});

/* theme */
(function initTheme(){
  const t = localStorage.getItem('pr-font-theme') || 'light';
  applyTheme(t);
})();
themeBtn.addEventListener('click', ()=> {
  const list = ['light','dark','ocean','sunset'], current = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
  const next = list[(list.indexOf(current)+1) % list.length];
  applyTheme(next);
});
function applyTheme(name){
  document.documentElement.classList.remove('dark','ocean','sunset');
  if(name==='dark') document.documentElement.classList.add('dark');
  if(name==='ocean') document.documentElement.classList.add('ocean');
  if(name==='sunset') document.documentElement.classList.add('sunset');
  themeBtn.textContent = (name.charAt(0).toUpperCase()+name.slice(1)) + ' ‚ñæ';
  localStorage.setItem('pr-font-theme', name);
}

/* show year */
el('year').textContent = new Date().getFullYear();

/* accessibility: focus on input */
userText.focus();

/* End of script */
</script>
</body>
</html>
